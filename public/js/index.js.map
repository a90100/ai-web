{"version":3,"sources":["index.js"],"names":["infoBox","textBox","startStopButton","textWrapper","recognizing","startButton","event","getElementById","document","tempBox","final_transcript","langCombo","value","recognition","lang","window","webkitSpeechRecognition","continuous","onstart","onend","innerText","onresult","i","resultIndex","results","length","isFinal","transcript","interim_transcript","trim","querySelector","innerHTML","textContent","replace","anime","timeline","loop","targets","opacity","easing","duration","delay","add","el"],"mappings":"aAAA,IAAIA,QACAC,QADAD,QAGAE,gBAoFAC,YAtFAF,iBAAS,GAITG,aAAc,EAElB,SAASC,YAAYC,GAJrBN,QAAIE,SAAiBK,eAAA,WAMnBN,QAAUO,SAASD,eAAe,WALpCE,QAAIC,SAAgBH,eAAO,WAOzBL,gBAAkBM,SAASD,eAAe,mBAN5CI,UAAIP,SAAJG,eAAyB,aAEzBH,YACEJ,YAAUQ,QACVP,QAAUO,MAAQ,GAShBC,QAAQG,MAAQ,GARlBH,iBAAmBF,GAUjBM,YAAYC,KAAOH,UAAUC,MAT/BV,YAAAA,SAGmB,GAAA,4BAAAa,OAAnB,CAGEd,IAAAA,YAAgB,IAAIe,wBActBH,YAAYI,YAAa,EAbvBR,YAAQG,gBAAY,EAiBtBC,YAAYK,QAAU,WAfpBL,aAAYC,EAiBZZ,gBAAgBU,MAAQ,OAhBxBC,QAAAA,UALK,UA0BPA,YAAYM,MAAQ,WAhBlBf,aAAE,EACJJ,gBAAAY,MAAoB,OADtBZ,QAEOoB,UAAA,IAqBLP,YAAYQ,SAAW,SAAUf,GAfjC,IAFAO,IAAAA,EAAA,GAEAS,EAAAhB,EAAAiB,YAAAD,EAAAhB,EAAAkB,QAAAC,SAAAH,EAkBQhB,EAAMkB,QAAQF,GAAGI,QAjBzBb,kBAAsBP,EAAAkB,QAAYF,GAAA,GAAAK,WAoB5BC,GAAsBtB,EAAMkB,QAAQF,GAAG,GAAGK,WAjBhB,EAA9B3B,iBAAoB6B,OAApBJ,SAGFxB,QAAAW,MAAAF,kBAmByC,EAAnCkB,EAAmBC,OAAOJ,SAC5BhB,QAAQG,MAAQgB,SA9ClBf,QAAAA,UAAA,6CA6BAX,YAAAA,SAAA4B,cAAgC,SAsBxBC,UAAY5B,YAAY6B,YAAYC,QAAQ,qBAAsB,kCApB3EC,MAEDC,SAAA,CAqBEC,MAAM,IApBRvB,IAAAA,CACEwB,QAAIT,eAuBJU,QAAS,CAAC,EAAG,GAtBbC,OAAK,gBAA4DC,SAAA,KAC/DC,MAAInC,SAAMkB,EAANF,GAA4B,OAAA,IAAAA,EAAA,MAE/BoB,IAFD,CAESL,QAAA,OACPT,QAAAA,EACDY,SAAA,IACFD,OAAA,cA2BDE,MAAO,OAGPtC,YAAcK,SAASsB,cAAc,SA3BjCF,UAAAA,YAA0BH,YAAYQ,QAAA,qBAAA,kCAE3CC,MAbDC,SAAA,CAcDC,MAAA,IAEDM,IAAIvC,CACJA,QAAY4B,eAEZG,MAAMC,CAAAA,EAAS,GACXC,QAAM,CAAA,EAAA,GAEPM,WAAI,EACHL,OAAS,cACTC,SAAS,IACTC,MAAQ,SAAAI,EAHLrB,GAIHkB,OAAU,GAJPlB,KAMDoB,IAAA,CACDL,QAAA,OACAK,QAAI,EACLL,SAAS,IACTC,OAFK,cAGLE,MAAQ","file":"index.js","sourcesContent":["var infoBox; // 訊息 label\r\nvar textBox; // 最終的辨識訊息 text input\r\nvar tempBox; // 中間的辨識訊息 text input\r\nvar startStopButton; // 「辨識/停止」按鈕\r\nvar final_transcript = ''; // 最終的辨識訊息的變數\r\nvar recognizing = false; // 是否辨識中\r\n\r\nfunction startButton(event) {\r\n  infoBox = document.getElementById(\"infoBox\"); // 取得訊息控制項 infoBox\r\n  textBox = document.getElementById(\"textBox\"); // 取得最終的辨識訊息控制項 textBox\r\n  tempBox = document.getElementById(\"tempBox\"); // 取得中間的辨識訊息控制項 tempBox\r\n  startStopButton = document.getElementById(\"startStopButton\"); // 取得「辨識/停止」這個按鈕控制項\r\n  langCombo = document.getElementById(\"langCombo\"); // 取得「辨識語言」這個選擇控制項\r\n\r\n  if (recognizing) { // 如果正在辨識，則停止。\r\n    recognition.stop();\r\n  } else { // 否則就開始辨識\r\n    textBox.value = ''; // 清除最終的辨識訊息\r\n    tempBox.value = ''; // 清除中間的辨識訊息\r\n    final_transcript = ''; // 最終的辨識訊息變數\r\n    recognition.lang = langCombo.value; // 設定辨識語言\r\n    recognition.start(); // 開始辨識\r\n  }\r\n}\r\n\r\n// 如果找不到 window.webkitSpeechRecognition 這個屬性，就是不支援語音辨識，要求使用者更新瀏覽器。 \r\nif (!('webkitSpeechRecognition' in window)) {\r\n  infoBox.innerText = \"本瀏覽器不支援語音辨識，請更換瀏覽器！(Chrome 25 版以上才支援語音辨識)\";\r\n} else {\r\n  // 建立語音辨識物件 webkitSpeechRecognition\r\n  var recognition = new webkitSpeechRecognition();\r\n  recognition.continuous = true; // 設定連續辨識模式\r\n  recognition.interimResults = true; // 設定說話時會立即辨識\r\n\r\n  // 開始辨識\r\n  recognition.onstart = function () {\r\n    recognizing = true; // 設定為辨識中\r\n    startStopButton.value = \"按此停止\"; // 辨識中...按鈕改為「按此停止」。  \r\n    infoBox.innerText = \"辨識中...\"; // 顯示訊息為「辨識中」...\r\n  };\r\n\r\n  // 辨識完成\r\n  recognition.onend = function () {\r\n    recognizing = false; // 設定為「非辨識中」\r\n    startStopButton.value = \"開始辨識\"; // 辨識完成...按鈕改為「開始辨識」。\r\n    infoBox.innerText = \"\"; // 不顯示訊息\r\n  };\r\n\r\n  // 辨識有任何結果時\r\n  recognition.onresult = function (event) {\r\n    var interim_transcript = ''; // 中間結果\r\n    for (var i = event.resultIndex; i < event.results.length; ++i) { // 對於每一個辨識結果\r\n      if (event.results[i].isFinal) { // 如果是最終結果\r\n        final_transcript += event.results[i][0].transcript; // 將其加入最終結果中\r\n      } else { // 否則\r\n        interim_transcript += event.results[i][0].transcript; // 將其加入中間結果中\r\n      }\r\n    }\r\n    if (final_transcript.trim().length > 0) // 如果有最終辨識文字\r\n      textBox.value = final_transcript; // 顯示最終辨識文字\r\n    if (interim_transcript.trim().length > 0) // 如果有中間辨識文字\r\n      tempBox.value = interim_transcript; // 顯示中間辨識文字\r\n  };\r\n}\r\n\r\nvar textWrapper = document.querySelector('.ml3');\r\ntextWrapper.innerHTML = textWrapper.textContent.replace(/([^\\x00-\\x80]|\\w)/g, \"<span class='letter'>$&</span>\");\r\n\r\nanime.timeline({\r\n    loop: true\r\n  })\r\n  .add({\r\n    targets: '.ml3 .letter',\r\n    opacity: [0, 1],\r\n    easing: \"easeInOutQuad\",\r\n    duration: 1125,\r\n    delay: function (el, i) {\r\n      return 75 * (i + 1)\r\n    }\r\n  }).add({\r\n    targets: '.ml3',\r\n    opacity: 0,\r\n    duration: 500,\r\n    easing: \"easeOutExpo\",\r\n    delay: 500\r\n  });\r\n\r\nvar textWrapper = document.querySelector('.ml2');\r\ntextWrapper.innerHTML = textWrapper.textContent.replace(/([^\\x00-\\x80]|\\w)/g, \"<span class='letter'>$&</span>\");\r\n\r\nanime.timeline({\r\n    loop: true\r\n  })\r\n  .add({\r\n    targets: '.ml2 .letter',\r\n    scale: [4, 1],\r\n    opacity: [0, 1],\r\n    translateZ: 0,\r\n    easing: \"easeOutExpo\",\r\n    duration: 950,\r\n    delay: function (el, i) {\r\n      return 70 * i;\r\n    }\r\n  }).add({\r\n    targets: '.ml2',\r\n    opacity: 0,\r\n    duration: 1000,\r\n    easing: \"easeOutExpo\",\r\n    delay: 1000\r\n  });"]}